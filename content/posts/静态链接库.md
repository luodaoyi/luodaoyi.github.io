---
title: "静态链接库"
categories: [ "C-lang","win32" ]
tags: [ "win32" ]
draft: false
slug: "静态链接库-静态链接库"
date: "2018-05-22 21:49:41"
---



# 静态链接库

## 如何创建静态链接库

  * vs新建项目，选择静态链接库
  * 在项目文件中新建 .cpp 文件与.h 文件

项目编译生成后会产生一个 .lib文件

## 如何使用静态链接库

将生成的.h与.lib文件复制到项目根目录

  * 直接添加.lib与.h到项目中
  * 在项目代码中添加头文件引用

    #include "xxx.h"
    #pragma comment(lib,"xxx.lib")

## 静态链接库的生成

lib的生成和我们的exe是一样的，也是要经过预处理编译会变的过程，最终生成的lib 就是多个.o(obj)文件的集合体

编译过程

  * 预处理
  * 编译
  * 会变
  * 链接

连接的过程就相当于将多个.o文件拼接在一起形成exe文件，而对于lib便是将Lib中需要的东西抽取出来和其他.o拼接在一起

![][1]

 [1]: /uploads/oss/2018-05-22-15269968918851.jpg ""